<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>프로필 페이지</title>
    <!-- 다른 헤더 설정 -->
    <th:block th:include="/domain/social/social/header.html"></th:block>
</head>
<body>

<!-- 프로필 섹션 -->
<section class="profile">
    <!-- 유저정보 컨테이너 -->
    <div class="profileContainer">

        <!-- 유저이미지 -->
        <div class="profile-left">
            <div class="profile-img-wrap story-border" th:if="${profileDto.getEmail() eq #authentication.principal.username}">
                <!-- 이미지 및 파일 업로드 폼 -->
                <form id="userProfileImageForm">
                    <input type="file" name="profileImageFile" style="display: none;" id="userProfileImageInput"/>
                </form>

                <!-- 프로필 이미지 -->
                <img class="profile-image" th:src="${profileDto.profileImage != null ? profileDto.profileImage : 'https://kr.object.ncloudstorage.com/hypeimagebucket/SOCIAL/person.jpeg'}"/>
            </div>
        </div>
        <!-- 유저이미지 end -->

        <!-- 유저정보 및 사진등록 구독하기 -->
        <div class="profile-right">
            <div class="name-group">
                <h2 th:text="${profileDto.getNickname()}"></h2>-->

                <!-- 사용자가 로그인한 사용자인 경우 -->
                <div th:if="${profileDto.getEmail() eq #authentication.principal.username}">
                    <button class="cta" onclick="location.href='/image/upload'">사진등록</button>
                    <button class="modi" onclick="popup('.modal-info')">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>

                <!-- 다른 사용자인 경우 -->
                <div th:unless="${profileDto.getEmail() eq #authentication.principal.username}">
                    <button class="cta" th:onclick="'toggleSubscribe(' + ${profileDto.id} + ', this)'"></button>
<!--                            th:text="${profileDto.subscribed ? '구독취소' : '구독하기'}"></button>-->
                </div>
            </div>

            <div class="subscribe">
                <ul>
                    <li><a href=""> 게시물<span></span></a></li>
<!--                    <li><a href="javascript:subscribeInfoModalOpen(${profileDto.id});"> 구독정보<span></span></a></li>-->
                </ul>
            </div>
            <div class="state">
<!--                <h4 th:text="${profileDto.bio}"></h4>-->
<!--                <h4 th:text="${profileDto.website}"></h4>-->
            </div>
        </div>
        <!-- 유저정보 및 사진등록 구독하기 end -->

    </div>
</section>

<!-- 로그아웃, 회원정보변경 모달 -->
<!-- 해당 부분 제거 -->
<!-- 로그아웃, 회원정보변경 모달 end -->



<!--프로필사진 바꾸기 모달end-->





<script th:src="@{/js/socialmemberprofile.js}"></script>

<!-- 다른 푸터 설정 -->
<th:block th:include="/domain/social/social/footer.html"></th:block>

</body>
</html>


